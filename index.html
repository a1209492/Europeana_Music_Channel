<!DOCTYPE html>
<html lang="de">
<head>
	<script src="javascript/jquery-1.9.1.js"></script>

	<title>Europeana Music Channel</title>
	<meta charset="utf-8">
	<meta name="description" content="Europeana Website">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!--           css-reset                -->
	<link rel="Stylesheet" href="css/skeleton.css">
	<link rel="Stylesheet" href="css/normalize.css">
	
	<link rel="Stylesheet" href="css/style.css">

	<!-- For Leaflet Library -->
	<link rel="stylesheet" href="javascript/leaflet-library/leaflet.css" />
	<script src="javascript/leaflet-library/leaflet.js"></script>

	<!-- MapQuest online API -->
	<script src="http://www.mapquestapi.com/sdk/leaflet/v2.s/mq-map.js?key=GJ4oEUANXFZA0H8iCyzUzCVA1I3yAzPo"></script>

	<!-- Heatmap Library -->
	<script src="javascript/heatmap.js"></script>

	<!-- LeafPad-Heatmap Library, this should be right under heatmap.js -->
	<script src="javascript/leaflet-heatmap.js"></script>
	
	<!--
    <link rel="stylesheet" href="css/bootstrap-theme.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <script src="javascript/bootstrap.js"></script>
	-->

</head>

<body>
	<a href="/index.html" title="Zur Startseite">
		<img style="margin-left:180px;" src="images/logo3.png"  alt="Europeana Music Channel">
	</a>

	<header>
		
	<nav id="sitenav">
	<h2>Sitenavigation</h2>
		<ul>
			<li><a href="#">Heatmap</a></li>
			<li><a href="#">Events</a></li>
			<li><a href="#">Copyright Information</a></li>
	<!--	<li><a href="#">Trainer</a></li>
			<li><a href="#">Loesungen</a></li>
			<li><a href="#">Support</a></li>
			<li><a href="#">News</a></li>
			<li><a href="#">Apps</a></li> -->
		</ul>
		
		<ul>
			<li> <a href="#">Log In</a> </li>
		</ul>
		
	</nav>
	<nav id="metanav">
	<h2>Metanavigation</h2>
		<ul>
			<li><a href="#">International</a></li>
			<li><a href="#">Register</a></li>
			<li><a href="#">Basket</a></li>
		</ul>
	</nav>
	</header>
	<main>

	<h2>Content</h2>
	
	<div id="map">
	</div>
	
	<script>
    
        //test
        var testData = {
            max: 8, //what???
            data: [{ lat: 55.00, lng: +8.0, count: 2 },
                { lat: 53.00, lng: -3.0, count: 3 },
                { lat: 48.00, lng: +8.0, count: 7}

        ]};

        var cfg = {
            // radius should be small ONLY if scaleRadius is true (or small radius is intended)
            // if scaleRadius is false it will be the constant radius used in pixels
            "radius": 2,
            "maxOpacity": .8,
            // scales the radius based on map zoom
            "scaleRadius": true,
            // if set to false the heatmap uses the global maximum for colorization
            // if activated: uses the data maximum within the current map boundaries 
            //   (there will always be a red spot with useLocalExtremas true)
            "useLocalExtrema": true,
            // which field name in your data represents the latitude - default "lat"
            latField: 'lat',
            // which field name in your data represents the longitude - default "lng"
            lngField: 'lng',
            // which field name in your data represents the data value - default "value"
            valueField: 'count'
        };
        var heatmapLayer = new HeatmapOverlay(cfg);


	    var mapLayer = MQ.darkLayer(), map;

	    map = L.map('map', {
	        layers: [mapLayer, heatmapLayer],
		    center: [ 50.731701, -1.993411 ],
		    zoom: 4
	    });

	    heatmapLayer.setData(testData);

	    L.control.layers({
		    'Dark': mapLayer,
		    'Map': MQ.mapLayer(),
		    'Light': MQ.lightLayer(),
		    'Satellite': MQ.satelliteLayer()
	    }).addTo(map);

	    var marker = L.marker([40.731701, -73.993411]).addTo(map);

	</script>


	<h3>Results</h3>
	<ul id="meineListe">
	</ul>

	<script>
		// here comes leafpad heatmap	
	</script>


	<script>
		$.getJSON( "http://www.europeana.eu/api/v2/search.json?wskey=iiiHVMLBw&query=Folklore&start=1&rows=24&profile=standard", function( data ) {
			var items = [];
			console.log(data);
			if (data.success){
				$.each(data.items, function() {
					$("#meineListe").append("<li>" +this.title+"</li>");
				});
			} else {
				$('#meineListe')
			}
		});
	</script>
	
	<aside>
	</aside>

	</main>

	<footer>
		<p id="footerText">Universität Wien - Fakultät für Informatik - © 2015 - 2016</p>
		<p id="footerText">Matthias Knopp, Ricardo Arangüena, Umair Altaf</p>
	</footer>
	</body>
</html>
